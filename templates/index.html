{%extends "base.html"%}
{% block title %} Index Page{% endblock%}


{% block content %}
    <h1>hello World</h1>
    <form method="POST" action="{{ url_for( 'index' )}}">  
        <input type = "text" name = "username" placeholder="Username"><br>
        <input type = "password" name = "password" placeholder = "Password"><br> 
        <input type = "submit" value="Login">
    </form>

    <h1>File upload</h1>
    <form method = "POST" action = "{{ url_for('file_upload') }}" enctype = "multipart/form-data">
        <input type = "file" name = "file" accept="application/vnd.openxmlfomats-officedokument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain" required = "required">
        <input type = "submit" value = "upload file">
    </form>

    <h1>Convert to CSV</h1>
    <form method = "POST" action = "{{ url_for('convert_csv') }}" enctype = "multipart/form-data">
        <input type = "file" name = "file" accept="application/vnd.openxmlfomats-officedokument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain" required = "required">
        <input type = "submit" value = "upload file">
    </form>

    <h1>Convert CSV two</h1>
    <form method = "POST" action = "{{ url_for('convert_csv_two') }}" enctype = "multipart/form-data">
        <input type = "file" name = "file" accept="application/vnd.openxmlfomats-officedokument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain" required = "required">
        <input type = "submit" value = "upload file">
    </form>
    
    <h1> Javascript json Request</h1>
    <button id=" post_button"> Send POST Request</button>

    <script type ="text/Javascript">
        const post_button= document.getElemntById('post_button')

        const jsonData = {name :'Mike', greating : 'Hello'}

        postButton.addEventListener('click', ()=> {
            fetch('{{url_for("handle_post")}}',{
                method: 'POST',
                headers: {
                    'Content-Type':'application/json; charset = utf-8'
                }, 
                body: JSON.stringify(jsonData)
            })
                .then(response => response.json())
                .then(data => console.log('Success:',data))
                .catch((error) => {
                    console.error('Error:', error)
            });    
        });      
    </script>

{% endblock %}
